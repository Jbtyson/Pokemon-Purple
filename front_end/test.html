
<html>
  <header>
    <title>This is title</title>
    <script src="gui.js"></script>
    <script src="renderable.js"></script>
    <script src="colorable.js"></script>
    <script src="group.js"></script>
    <script src="hbox.js"></script>
    <script src="vbox.js"></script>
    <script src="text.js"></script>
    <script src="rectangle.js"></script>
    <script src="statusbar.js"></script>
    <script src="button.js"></script>
    <script src="battlemenu.js"></script>
    <script src="classic.js"></script>
    <script src="gif.js"></script>
    <script src="movebar.js"></script>
    <script src="battle.js"></script>
    <script src="items.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <script>
      function onLoad() {
        var canvas = document.getElementById("myCanvas");
        gui = new Gui(canvas);
        gui.init();

        //define a battle
        var pk1 = {
          name:'Hitmonlee',
          hp:30,
          maxhp:150,
          lvl:31,
          exp:50,
          maxexp:100,
          src:'img/back-106.gif'
        }
        var pk2 = {
          name:'Alakazam',
          hp:150,
          maxhp:150,
          lvl:99,
          exp:27,
          maxexp:100,
          src:'img/front-65.gif'
        }
        var battle = new Battle(gui, pk1, pk2);

        //define a menu
        var move1 = {'name':"High Jump Kick", 'type':'Fighting', 'pp':12, 'maxpp':15}
        var move2 = {'name':"Brick Break", 'type':'Fighting', 'pp':12, 'maxpp':20}
        var move3 = {'name':"Low Kick", 'type':'Fighting', 'pp':12, 'maxpp':15}
        var move4 = {'name':"Strength", 'type':'Normal', 'pp':12, 'maxpp':20}
        moves = [move1, move2, move3, move4];
        var menu = new MoveBar(gui, 600, 110, 200, moves);
        menu.setPosition(0, 340);
        menu.onGo = function() {
          alert("go!");
        }
        menu.onMove = function(num) {
          alert(moves[num].name);
        }
        //gui.add(menu); //attach the menu to the gui so it can receive input


        var items = new BagMenu(gui, 600, 450, 120, 160);
        items.add("x1 \t\t\t  Bicycle", function() {alert("Jake: Noah...this is not the time or place for that");});
        items.add("x1 \t\t\t  Helix Fossil", function() {alert("All hail the helix fossil!");});
        items.add("x99 \t\t\t Master Ball", function() {alert("How did you get so many?");});
        items.onBack = function() {
          alert("well, you tried to go back...hope that helps");
        }
        gui.attach(items);
        //now the "loop" ... but not really
        function render() {
          //make sure everything is updated
          //menu.update();
          //battle.update();
          //now render
          //battle.render(gui.context, 0, 0);
          //menu.render(gui.context, 0, 0);

          items.update();
          items.render(gui.context, 0, 0);
        }
        setInterval(render, 100);
      }
    </script>
  </header>
  <body onload="onLoad()">
    <canvas id="myCanvas" width="600" height="450" style="border:1px solid #000000;"></canvas>
  </body>
</html>
